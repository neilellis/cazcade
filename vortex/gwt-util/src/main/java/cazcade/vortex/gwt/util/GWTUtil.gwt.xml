<!--
  ~ Copyright (c) 2009-2013 Cazcade Limited  - All Rights Reserved
  -->

<!DOCTYPE module PUBLIC "-//Google Inc.//DTD Google Web Toolkit 2.0//EN"
        "http://google-web-toolkit.googlecode.com/svn/releases/2.0/distro-source/core/src/gwt-module.dtd">
<module>


    <define-property name="history.push.state" values="supported,notsupported"/>

    <property-provider name="history.push.state">
        <![CDATA[
        if (typeof(window.history.pushState) == "function" && !testNoPushState) {
            return "supported";
        } else {
            return "notsupported";
        }
    ]]>
    </property-provider>

    <replace-with
            class="cazcade.vortex.gwt.util.client.history.HTML5History">
        <when-type-is class="com.google.gwt.user.client.impl.HistoryImpl"/>
        <all>
            <when-property-is name="history.push.state" value="supported"/>
        </all>
    </replace-with>

    <inherits name='com.google.gwt.user.User'/>
    <inherits name="cazcade.liquid.LiquidAPI"/>
    <source path="client"/>
    <super-source path="jre"/>
    <servlet path="/WebScrapeService" class="cazcade.vortex.gwt.util.server.WebScrapeServiceImpl"/>
    <servlet path="/ClientLogService" class="cazcade.vortex.gwt.util.server.ClientLogServiceImpl"/>

</module>